---
title: 我是如何因为错误理解C++数组初始化而空耗2小时的
published: 2025-10-30
description: '在C++数组初始化上踩的坑'
image: ''
tags: []
category: 
draft: false
---

## 正确的用法  

### 整数型与浮点型  

整数型的操作与浮点型相差不大，以下全部用整数型演示  

#### 如果你只想要将数组初始化为0  

无论是不是在主函数外，你都可以：

    // 方式1：使用大括号（推荐）
    int A[30][30] = {0};

    // 方式2：使用空大括号（C++11起）
    int B[30][30] = {};

    // 方式3：使用嵌套大括号
    int C[30][30] = {{0}};

    // 方式4：值初始化（C++11）
    int D[30][30]{};
在主函数外时，单单一个 `int E[30][30];` 也可以起到相同作用：

    #include <iostream>
    using namespace std;
    int E[30][30];
    int main (){
        for (int i = 0; i < 30; i++){
            for (int j = 0; j < 30; j++){
                cout << E[i][j] << endl;
            }
        }
        return 0;
    }
不出意外结果应该都是0  

### 字符串型

#### 如果你想把数组初始化化为空  

无论是不是在主函数外，你都可以：

    // C风格字符数组的不同初始化方式
    char S1[30][30] = {0};     // 全部初始化为'\0'
    char S2[30][30] = {};      // C++11: 全部初始化为'\0'
    
    // std::string数组的不同初始化方式
    string strS1[30][30];      // 即使是局部声明string也能正确初始化
    string strS2[30][30] = {}; // 显式初始化为空字符串

在主函数外时， `char S3[30][30];` 也可行的：  

    #include <iostream>
    using namespace std;
    char S3[30][30];
    int main (){
        cout << S3[10][10] //里面的数字只要不越界随便填
        return 0;
    }
不出意外结果应该都是0  

## 我之前错误的理解
